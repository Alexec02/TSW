
<body>
    <div class="container mt-3 text-dark">
        <h1 style="text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.5);" >{{i18n "Switch"}}: {{switch.nombre}}</h1>
        <em>{{i18n "by"}} {{switch.alias}}</em>
        <h2 style="text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.5);" >{{i18n "Description"}}:</h2>
        <p>{{switch.descripcion}}</p>
        
        {{#if switch.encendido }}
            <div class="d-flex align-items-center">
                <img class="img-thumbnail mr-2" src="images/circuloRojo.png" style="width: 24px; height: 24px;">
                <span>{{i18n "Last modification"}}: {{switch.encendido_hasta}}</span>
            </div>
        {{else}}
            <div class="d-flex align-items-center">
                <img class="img-thumbnail mr-2" src="images/circuloVerde.png" style="width: 24px; height: 24px;">
                <span>{{i18n "Time on"}}: {{switch.tiempo_encendido}}</span>
            </div>
        {{/if}}
        
        {{#if switch.public_id}}
            {{#if currentUser}}
                <form method="POST" action="index.php?controller=subscription&amp;action=add" id="add_subscription_{{switch.public_id}}_{{switch.private_id}}" style="display: inline">
                    <input type="hidden" name="public_id" value="{{switch.public_id}}">
                    <input type="hidden" name="private_id" value="{{switch.private_id}}">
                    <button type="submit" class="btn btn-dark">{{i18n "Subscribe"}}</button>
                </form>
            {{/if}}
        {{else}} 
            {{#if switch.private_id}}
                <li class="switch-item" data-state="apagar">
                    {{#if switch.encendido}}
                        <form method="POST" action="index.php?controller=switchs&amp;action=edit" id="edit_switch_{{switch.public_id}}_{{switch.private_id}}" style="display: inline">
                            <input type="hidden" name="public_id" value="{{switch.public_id}}">
                            <input type="hidden" name="private_id" value="{{switch.private_id}}">
                            <input type="hidden" name="estado" value=1>
                            <div class="mb-3">
                                <label for="encendido_hasta">{{i18n "Time on"}}</label>
                                <input type="number" class="form-control" name="encendido_hasta" value="60" min="1" max="120">
                            </div>
                            <button type="submit" class="btn btn-success">{{i18n "Switch on"}}</button>
                        </form>
                    {{else}}
                        <form method="POST" action="index.php?controller=switchs&amp;action=edit" id="edit_switch_{{switch.public_id}}_{{switch.private_id}}" style="display: inline">
                            <input type="hidden" name="public_id" value="{{switch.public_id}}">
                            <input type="hidden" name="private_id" value="{{switch.private_id}}">
                            <input type="hidden" name="encendido_hasta" value=0>
                            <input type="hidden" name="estado" value=0>
                            <button type="submit" class="btn btn-danger">{{i18n "Switch off"}}</button>
                        </form>
                    {{/if}}
                </li>
            {{/if}}
        {{/if}}
    </div>
</body>
</html>
